  [1m[35m (95.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (85.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1683213154861075425)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20170814152349)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (93.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (32.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (29.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170814152349"]]
  [1m[35m (15.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20170814152945)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (54.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "photo" character varying, "price" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170814152945"]]
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20170814154206)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (33.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" bigserial primary key, "payed" boolean DEFAULT 'f', "user_id" bigint, "product_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_f868b47f6a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_dfb33b2de0"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (27.3ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_user_id" ON "orders"  ("user_id")[0m
  [1m[35m (30.6ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_product_id" ON "orders"  ("product_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170814154206"]]
  [1m[35m (17.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFieldsToOrder (20170825153824)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (103.2ms)[0m  [1m[35mALTER TABLE "orders" ADD "quantity" integer DEFAULT 0[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "orders" ADD "price" integer[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170825153824"]]
  [1m[35m (13.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBillings (20190618160510)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (70.9ms)[0m  [1m[35mCREATE TABLE "billings" ("id" bigserial primary key, "code" character varying, "payment_method" character varying, "amount" decimal(5,2), "currency" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d31ab0cf92"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE  INDEX  "index_billings_on_user_id" ON "billings"  ("user_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190618160510"]]
  [1m[35m (12.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddBillingToOrder (20190618161406)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "orders" ADD "billing_id" bigint[0m
  [1m[35m (24.1ms)[0m  [1m[35mCREATE  INDEX  "index_orders_on_billing_id" ON "orders"  ("billing_id")[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "orders" ADD CONSTRAINT "fk_rails_0eb0e9e545"
FOREIGN KEY ("billing_id")
  REFERENCES "billings" ("id")
[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20190618161406"]]
  [1m[35m (8.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-06-18 16:15:22.872478"], ["updated_at", "2019-06-18 16:15:22.872478"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1683213154861075425)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2019-06-18 12:52:40 -0400
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 2142ms (Views: 2126.4ms | ActiveRecord: 3.4ms)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "photo", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Fantastic Cotton Keyboard"], ["photo", "http://lorempixel.com/400/200/technics/1/"], ["price", 38], ["created_at", "2019-06-18 16:53:04.976695"], ["updated_at", "2019-06-18 16:53:04.976695"]]
  [1m[35m (29.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "photo", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Ergonomic Copper Bottle"], ["photo", "http://lorempixel.com/400/200/technics/2/"], ["price", 67], ["created_at", "2019-06-18 16:53:05.009427"], ["updated_at", "2019-06-18 16:53:05.009427"]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "photo", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Mediocre Cotton Bottle"], ["photo", "http://lorempixel.com/400/200/technics/3/"], ["price", 11], ["created_at", "2019-06-18 16:53:05.019633"], ["updated_at", "2019-06-18 16:53:05.019633"]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "photo", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Aerodynamic Concrete Keyboard"], ["photo", "http://lorempixel.com/400/200/technics/4/"], ["price", 12], ["created_at", "2019-06-18 16:53:05.030864"], ["updated_at", "2019-06-18 16:53:05.030864"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "photo", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Sleek Linen Coat"], ["photo", "http://lorempixel.com/400/200/technics/5/"], ["price", 93], ["created_at", "2019-06-18 16:53:05.041692"], ["updated_at", "2019-06-18 16:53:05.041692"]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "photo", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Small Silk Gloves"], ["photo", "http://lorempixel.com/400/200/technics/6/"], ["price", 7], ["created_at", "2019-06-18 16:53:05.053675"], ["updated_at", "2019-06-18 16:53:05.053675"]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "photo", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Durable Marble Plate"], ["photo", "http://lorempixel.com/400/200/technics/7/"], ["price", 11], ["created_at", "2019-06-18 16:53:05.063895"], ["updated_at", "2019-06-18 16:53:05.063895"]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "photo", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Mediocre Copper Car"], ["photo", "http://lorempixel.com/400/200/technics/8/"], ["price", 76], ["created_at", "2019-06-18 16:53:05.075013"], ["updated_at", "2019-06-18 16:53:05.075013"]]
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "photo", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Incredible Plastic Gloves"], ["photo", "http://lorempixel.com/400/200/technics/9/"], ["price", 95], ["created_at", "2019-06-18 16:53:05.086369"], ["updated_at", "2019-06-18 16:53:05.086369"]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "photo", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Rustic Aluminum Lamp"], ["photo", "http://lorempixel.com/400/200/technics/10/"], ["price", 30], ["created_at", "2019-06-18 16:53:05.097068"], ["updated_at", "2019-06-18 16:53:05.097068"]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "photo", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Awesome Wooden Clock"], ["photo", "http://lorempixel.com/400/200/technics/11/"], ["price", 17], ["created_at", "2019-06-18 16:53:05.108195"], ["updated_at", "2019-06-18 16:53:05.108195"]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "photo", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Lightweight Paper Bottle"], ["photo", "http://lorempixel.com/400/200/technics/12/"], ["price", 66], ["created_at", "2019-06-18 16:53:05.120296"], ["updated_at", "2019-06-18 16:53:05.120296"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2019-06-18 12:53:21 -0400
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (16.6ms)
Completed 200 OK in 295ms (Views: 275.6ms | ActiveRecord: 6.1ms)


Started POST "/products/4/orders" for 127.0.0.1 at 2019-06-18 12:53:43 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"0xid8ncYQ+2flUo43BE8yCO9XVy/Y2O6IFHyYRKqwewcwT7JKX3ZVhVx0EZgqbgOSCyGWnugT6LLX9gyBNpO6A==", "product_id"=>"4"}
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-06-18 12:53:44 -0400
  
SyntaxError (/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^):
  
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `load'
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `block in load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:661:in `new_constants_in'
activesupport (5.1.3) lib/active_support/dependencies.rb:475:in `load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:374:in `block in require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `block in load_interlock'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:12:in `block in loading'
activesupport (5.1.3) lib/active_support/concurrency/share_lock.rb:149:in `exclusive'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:11:in `loading'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `load_interlock'
activesupport (5.1.3) lib/active_support/dependencies.rb:357:in `require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:510:in `load_missing_constant'
activesupport (5.1.3) lib/active_support/dependencies.rb:202:in `const_missing'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
activesupport (5.1.3) lib/active_support/dependencies.rb:582:in `get'
activesupport (5.1.3) lib/active_support/dependencies.rb:613:in `constantize'
actionpack (5.1.3) lib/action_dispatch/http/request.rb:82:in `controller_class'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:46:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/sign_in" for 127.0.0.1 at 2019-06-18 12:54:00 -0400
  
SyntaxError (/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^):
  
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `load'
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `block in load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:661:in `new_constants_in'
activesupport (5.1.3) lib/active_support/dependencies.rb:475:in `load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:374:in `block in require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `block in load_interlock'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:12:in `block in loading'
activesupport (5.1.3) lib/active_support/concurrency/share_lock.rb:149:in `exclusive'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:11:in `loading'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `load_interlock'
activesupport (5.1.3) lib/active_support/dependencies.rb:357:in `require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:510:in `load_missing_constant'
activesupport (5.1.3) lib/active_support/dependencies.rb:202:in `const_missing'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
activesupport (5.1.3) lib/active_support/dependencies.rb:582:in `get'
activesupport (5.1.3) lib/active_support/dependencies.rb:613:in `constantize'
actionpack (5.1.3) lib/action_dispatch/http/request.rb:82:in `controller_class'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:46:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2019-06-18 12:54:02 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 27ms (Views: 25.2ms | ActiveRecord: 0.7ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2019-06-18 12:54:04 -0400
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (9.2ms)
Completed 200 OK in 47ms (Views: 26.2ms | ActiveRecord: 3.6ms)


Started POST "/users" for 127.0.0.1 at 2019-06-18 12:54:26 -0400
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Pxv9ApJhmG3knHRJcLPe444d3Rs2HTBaPl6mvXfh2Sd5nhJjfe1ZyxT72yi1W3zDHdoWC2AHeeBLsu35dnEp8A==", "user"=>{"name"=>"Susana Alcala", "email"=>"susi.alcala@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "susi.alcala@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "susi.alcala@gmail.com"], ["encrypted_password", "$2a$11$qtVsHpDJCUpNB/KhxRuFoux4CzbfumYtWaUzc/sfeM1lncbhOuQi2"], ["name", "Susana Alcala"], ["created_at", "2019-06-18 16:54:26.685591"], ["updated_at", "2019-06-18 16:54:26.685591"]]
  [1m[35m (16.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2019-06-18 16:54:26.704975"], ["last_sign_in_at", "2019-06-18 16:54:26.704975"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2019-06-18 16:54:26.705718"], ["id", 1]]
  [1m[35m (42.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 228ms (ActiveRecord: 61.7ms)


Started GET "/" for 127.0.0.1 at 2019-06-18 12:54:26 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.9ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 28ms (Views: 25.7ms | ActiveRecord: 1.4ms)


Started POST "/products/3/orders" for 127.0.0.1 at 2019-06-18 12:54:29 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"aQwGlhFU9/2ehWofEllm6A54LVvwn+lbLZH7Ie1w3Ham1aWtTzFtRhRh8GGu4eIuZen2XTRcxUPGn9Fy+wBTcg==", "product_id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 1 AND "orders"."product_id" = 3 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "product_id", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["product_id", 3], ["created_at", "2019-06-18 16:54:29.102141"], ["updated_at", "2019-06-18 16:54:29.102141"], ["price", 11]]
  [1m[35m (12.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "quantity" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", "2019-06-18 16:54:29.118419"], ["quantity", 1], ["id", 1]]
  [1m[35m (7.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 68ms (ActiveRecord: 30.4ms)


Started GET "/products" for 127.0.0.1 at 2019-06-18 12:54:29 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 42ms (Views: 39.7ms | ActiveRecord: 1.2ms)


Started POST "/products/4/orders" for 127.0.0.1 at 2019-06-18 12:54:31 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"kxD4dHZlQ7IudMvvoQjW49HDb4mn9EYQ9ZLzHrKVNJZcyVtPKADZCaSQUZEdsFIlulK0j2M3aggenNlNpOW7kg==", "product_id"=>"4"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 1 AND "orders"."product_id" = 4 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "product_id", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["product_id", 4], ["created_at", "2019-06-18 16:54:31.938616"], ["updated_at", "2019-06-18 16:54:31.938616"], ["price", 12]]
  [1m[35m (33.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "quantity" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", "2019-06-18 16:54:31.974658"], ["quantity", 1], ["id", 2]]
  [1m[35m (7.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 54ms (ActiveRecord: 44.0ms)


Started GET "/products" for 127.0.0.1 at 2019-06-18 12:54:31 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 30ms (Views: 27.1ms | ActiveRecord: 1.3ms)


Started POST "/products/2/orders" for 127.0.0.1 at 2019-06-18 12:54:34 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"4VGezk2nSbnN9tAPndH4FxjOyQajZ7Dzol+4jBr4qc0uiD31E8LTAkcSSnEhaXzRc18SAGeknOtJUZLfDIgmyQ==", "product_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 1 AND "orders"."product_id" = 2 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 67], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "product_id", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["product_id", 2], ["created_at", "2019-06-18 16:54:34.247786"], ["updated_at", "2019-06-18 16:54:34.247786"], ["price", 67]]
  [1m[35m (15.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "quantity" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", "2019-06-18 16:54:34.265940"], ["quantity", 1], ["id", 3]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 37ms (ActiveRecord: 26.6ms)


Started GET "/products" for 127.0.0.1 at 2019-06-18 12:54:34 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 24ms (Views: 21.0ms | ActiveRecord: 1.3ms)


Started POST "/products/10/orders" for 127.0.0.1 at 2019-06-18 12:54:42 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"FNhOn/2BcYK2quaAy/hiFeMAbdbwSdiZrR7mjZzvnOPbAe2ko+TrOTxOfP53QObTiJG20DSK9IFGEMzeip8T5w==", "product_id"=>"10"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 1 AND "orders"."product_id" = 10 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 30], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "product_id", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["product_id", 10], ["created_at", "2019-06-18 16:54:42.790264"], ["updated_at", "2019-06-18 16:54:42.790264"], ["price", 30]]
  [1m[35m (18.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "quantity" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", "2019-06-18 16:54:42.811944"], ["quantity", 1], ["id", 4]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 40ms (ActiveRecord: 29.3ms)


Started GET "/products" for 127.0.0.1 at 2019-06-18 12:54:42 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 1.0ms)


Started POST "/products/4/orders" for 127.0.0.1 at 2019-06-18 12:54:46 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"GQQnliR5q68h3RMeR4B4PdRQbcAlb7etbaRKC1dYFTPW3YStehwxFKs5iWD7OPz7v8G2xuGsm7WGqmBYQSiaNw==", "product_id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 1 AND "orders"."product_id" = 4 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "quantity" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["quantity", 2], ["updated_at", "2019-06-18 16:54:46.093059"], ["id", 2]]
  [1m[35m (3.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 19ms (ActiveRecord: 6.7ms)


Started GET "/products" for 127.0.0.1 at 2019-06-18 12:54:46 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 1.4ms)


Started GET "/orders" for 127.0.0.1 at 2019-06-18 12:54:50 -0400
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  Rendering orders/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered orders/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 37ms (Views: 21.6ms | ActiveRecord: 3.1ms)


Started GET "/" for 127.0.0.1 at 2019-06-18 14:51:42 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (17.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 73ms (Views: 58.6ms | ActiveRecord: 8.6ms)


Started POST "/products/3/orders" for 127.0.0.1 at 2019-06-18 14:51:45 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"3nzFMpRpNfoKuqw2XZSs5xwptEDPlpExq6AJtmNbyAsRpWYJygyvQYBeNkjhLCghd7hvRgtVvSlAriPldStHDw==", "product_id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 1 AND "orders"."product_id" = 3 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "quantity" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["quantity", 2], ["updated_at", "2019-06-18 18:51:45.337140"], ["id", 1]]
  [1m[35m (10.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 48ms (ActiveRecord: 18.0ms)


Started GET "/products" for 127.0.0.1 at 2019-06-18 14:51:45 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 25ms (Views: 22.0ms | ActiveRecord: 1.3ms)


Started POST "/products/10/orders" for 127.0.0.1 at 2019-06-18 14:52:14 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"H47ql+8BXyfZ2EhylmQyXlfbkMg6p7esH2c4McifzOfQV0mssWTFnFM80gwq3LaYPEpLzv5km7T0aRJi3u9D4w==", "product_id"=>"10"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 1 AND "orders"."product_id" = 10 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 30], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "quantity" = $1, "updated_at" = $2 WHERE "orders"."id" = $3[0m  [["quantity", 2], ["updated_at", "2019-06-18 18:52:14.689496"], ["id", 4]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 28ms (ActiveRecord: 19.2ms)


Started GET "/products" for 127.0.0.1 at 2019-06-18 14:52:14 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 27ms (Views: 24.6ms | ActiveRecord: 1.5ms)


Started GET "/products" for 127.0.0.1 at 2019-06-18 14:54:47 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 26ms (Views: 23.3ms | ActiveRecord: 1.1ms)


Started GET "/orders" for 127.0.0.1 at 2019-06-18 14:54:52 -0400
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  Rendering orders/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered orders/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 35ms (Views: 23.4ms | ActiveRecord: 3.1ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-06-18 14:54:54 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
PayPal-Request-Id: f3f0ae96-9fd1-41b8-9ef6-cac2ed7dd687
Request[post]: https://api.sandbox.paypal.com/v1/oauth2/token
Request.body=grant_type=client_credentials	request.header={"User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "Content-Type"=>"application/x-www-form-urlencoded", "Authorization"=>"Basic RUJXS2psRUxLTVlxUk5RNnNZdkZvNjRGdGFSTFJSNUJkSEVFU21oYTQ5VE06RU80MjJkbjNnUUxnRGJ1d3FUanpyRmdGdGFSTFJSNUJkSEVFU21oYTQ5VE0=", "PayPal-Request-Id"=>"f3f0ae96-9fd1-41b8-9ef6-cac2ed7dd687"}
Response[200]: OK, Duration: 0.812s
Response.body={"scope":"https://uri.paypal.com/services/customer/partner-referrals/readwrite https://api.paypal.com/v1/payments/.* https://api.paypal.com/v1/developer/.* https://uri.paypal.com/services/invoicing openid https://api.paypal.com/v1/vault/credit-card/.* https://uri.paypal.com/services/risk/raas/transaction-context https://uri.paypal.com/services/applications/webhooks https://api.paypal.com/v1/vault/credit-card","access_token":"A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA","token_type":"Bearer","app_id":"APP-2EJ531395M785864S","expires_in":30821,"nonce":"2019-06-18T18:28:36ZFkoj5hSAsyZIDXMv8mDKD71AKjh2U98g_owJZEBYnXs"}	Response.header={"date"=>["Tue, 18 Jun 2019 18:54:55 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["308ae6e19a844", "308ae6e19a844"], "x-paypal-token-service"=>["IAAS"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2134051165%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:24:55 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["676"], "connection"=>["close"], "content-type"=>["application/json"]}
PayPal-Request-Id: f3f0ae96-9fd1-41b8-9ef6-cac2ed7dd687
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"173"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"1","name":"Mediocre Cotton Bottle","quantity":"2","price":"11","currency":"USD"},{"sku":"2","name":"Aerodynamic Concrete Keyboard","quantity":"2","price":"12","currency":"USD"},{"sku":"3","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"},{"sku":"4","name":"Rustic Aluminum Lamp","quantity":"2","price":"30","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"f3f0ae96-9fd1-41b8-9ef6-cac2ed7dd687"}
Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-06-18 14:54:56 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
PayPal-Request-Id: f03af52f-f7f9-4f3a-a368-c643e4f41938
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"173"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"1","name":"Mediocre Cotton Bottle","quantity":"2","price":"11","currency":"USD"},{"sku":"2","name":"Aerodynamic Concrete Keyboard","quantity":"2","price":"12","currency":"USD"},{"sku":"3","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"},{"sku":"4","name":"Rustic Aluminum Lamp","quantity":"2","price":"30","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"f03af52f-f7f9-4f3a-a368-c643e4f41938"}
Response[201]: Created, Duration: 1.293s
Response.body={"id":"PAYID-LUETHAA3SS35860NJ7801220","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"173.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2}]},"related_resources":[]}],"create_time":"2019-06-18T18:54:56Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHAA3SS35860NJ7801220","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-10790487PW813751T","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHAA3SS35860NJ7801220/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 18:54:56 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["7b299a20654ba", "7b299a20654ba"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2150828381%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:24:57 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1081"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-10790487PW813751T
Completed 302 Found in 2158ms (ActiveRecord: 2.7ms)


Response[201]: Created, Duration: 1.448s
Response.body={"id":"PAYID-LUETHAQ2XY87121DR442202R","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"173.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2}]},"related_resources":[]}],"create_time":"2019-06-18T18:54:57Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHAQ2XY87121DR442202R","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-99D20591R5513874S","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHAQ2XY87121DR442202R/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 18:54:57 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["850dcab8b58c6", "850dcab8b58c6"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2167605597%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:24:58 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1081"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-99D20591R5513874S
Completed 302 Found in 1480ms (ActiveRecord: 9.9ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-06-18 14:55:01 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
PayPal-Request-Id: 16e5b90f-7082-484f-ad2d-0d6818ef5ede
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"173"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"1","name":"Mediocre Cotton Bottle","quantity":"2","price":"11","currency":"USD"},{"sku":"2","name":"Aerodynamic Concrete Keyboard","quantity":"2","price":"12","currency":"USD"},{"sku":"3","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"},{"sku":"4","name":"Rustic Aluminum Lamp","quantity":"2","price":"30","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"16e5b90f-7082-484f-ad2d-0d6818ef5ede"}
Response[201]: Created, Duration: 1.823s
Response.body={"id":"PAYID-LUETHBQ62R12799GU0010240","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"173.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2}]},"related_resources":[]}],"create_time":"2019-06-18T18:55:01Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHBQ62R12799GU0010240","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-7Y657809BN614045R","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHBQ62R12799GU0010240/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 18:55:01 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["6d428fe5b72ff", "6d428fe5b72ff"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2234714461%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:25:02 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1081"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-7Y657809BN614045R
Completed 302 Found in 1837ms (ActiveRecord: 2.5ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-06-18 14:56:11 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
PayPal-Request-Id: 5e53fdaf-315b-41da-8bea-5697965de493
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"173"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"1","name":"Mediocre Cotton Bottle","quantity":"2","price":"11","currency":"USD"},{"sku":"2","name":"Aerodynamic Concrete Keyboard","quantity":"2","price":"12","currency":"USD"},{"sku":"3","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"},{"sku":"4","name":"Rustic Aluminum Lamp","quantity":"2","price":"30","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"5e53fdaf-315b-41da-8bea-5697965de493"}
Response[201]: Created, Duration: 1.424s
Response.body={"id":"PAYID-LUETHTI0BJ580120X484494X","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"173.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2}]},"related_resources":[]}],"create_time":"2019-06-18T18:56:12Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHTI0BJ580120X484494X","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-29T62971PW9995704","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHTI0BJ580120X484494X/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 18:56:12 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["5a38dd2984d37", "5a38dd2984d37"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D3425896797%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:26:13 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1081"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-29T62971PW9995704
Completed 302 Found in 1440ms (ActiveRecord: 3.0ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-06-18 14:56:15 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
PayPal-Request-Id: d2bac580-40c2-4e90-a09a-dcd9127170de
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"173"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"1","name":"Mediocre Cotton Bottle","quantity":"2","price":"11","currency":"USD"},{"sku":"2","name":"Aerodynamic Concrete Keyboard","quantity":"2","price":"12","currency":"USD"},{"sku":"3","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"},{"sku":"4","name":"Rustic Aluminum Lamp","quantity":"2","price":"30","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"d2bac580-40c2-4e90-a09a-dcd9127170de"}
Response[201]: Created, Duration: 1.637s
Response.body={"id":"PAYID-LUETHUA212939775U039313P","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"173.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2}]},"related_resources":[]}],"create_time":"2019-06-18T18:56:16Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUA212939775U039313P","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-14U44265X5753815C","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUA212939775U039313P/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 18:56:16 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["be0014a5dab9", "be0014a5dab9"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D3493005661%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:26:16 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1081"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-14U44265X5753815C
Completed 302 Found in 1656ms (ActiveRecord: 2.8ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-06-18 14:56:17 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
PayPal-Request-Id: d7a0d21a-1e63-4f1c-8f4c-4a66427a39f8
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"173"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"1","name":"Mediocre Cotton Bottle","quantity":"2","price":"11","currency":"USD"},{"sku":"2","name":"Aerodynamic Concrete Keyboard","quantity":"2","price":"12","currency":"USD"},{"sku":"3","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"},{"sku":"4","name":"Rustic Aluminum Lamp","quantity":"2","price":"30","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"d7a0d21a-1e63-4f1c-8f4c-4a66427a39f8"}
Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-06-18 14:56:17 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
PayPal-Request-Id: da3133d3-e953-48f4-8ae9-c8349dd7bd65
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"173"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"1","name":"Mediocre Cotton Bottle","quantity":"2","price":"11","currency":"USD"},{"sku":"2","name":"Aerodynamic Concrete Keyboard","quantity":"2","price":"12","currency":"USD"},{"sku":"3","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"},{"sku":"4","name":"Rustic Aluminum Lamp","quantity":"2","price":"30","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"da3133d3-e953-48f4-8ae9-c8349dd7bd65"}
Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-06-18 14:56:17 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
PayPal-Request-Id: f5a81674-0c5f-460c-aea2-2a00a10f5318
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"173"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"1","name":"Mediocre Cotton Bottle","quantity":"2","price":"11","currency":"USD"},{"sku":"2","name":"Aerodynamic Concrete Keyboard","quantity":"2","price":"12","currency":"USD"},{"sku":"3","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"},{"sku":"4","name":"Rustic Aluminum Lamp","quantity":"2","price":"30","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"f5a81674-0c5f-460c-aea2-2a00a10f5318"}
Response[201]: Created, Duration: 1.332s
Response.body={"id":"PAYID-LUETHUQ3GN80287JJ625730R","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"173.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2}]},"related_resources":[]}],"create_time":"2019-06-18T18:56:17Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUQ3GN80287JJ625730R","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0CR81952MT6217132","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUQ3GN80287JJ625730R/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 18:56:17 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["e5c1497abb9b3", "e5c1497abb9b3"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D3509782877%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:26:18 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1081"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0CR81952MT6217132
Completed 302 Found in 1349ms (ActiveRecord: 2.8ms)


Response[201]: Created, Duration: 1.300s
Response.body={"id":"PAYID-LUETHUQ53V68377MM898933D","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"173.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2}]},"related_resources":[]}],"create_time":"2019-06-18T18:56:18Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUQ53V68377MM898933D","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9TV02292UK554684M","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUQ53V68377MM898933D/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 18:56:18 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["43f3230759c4", "43f3230759c4"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D3526560093%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:26:18 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1081"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9TV02292UK554684M
Completed 302 Found in 1321ms (ActiveRecord: 3.7ms)


Response[201]: Created, Duration: 1.295s
Response.body={"id":"PAYID-LUETHUQ79F27421EF8454325","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"173.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2}]},"related_resources":[]}],"create_time":"2019-06-18T18:56:18Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUQ79F27421EF8454325","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5Y780043JG5876637","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUQ79F27421EF8454325/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 18:56:18 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["a6cd82643e07", "a6cd82643e07"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D3526560093%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:26:18 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1081"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5Y780043JG5876637
Completed 302 Found in 1318ms (ActiveRecord: 7.6ms)


Started GET "/billings/execute?paymentId=PAYID-LUETHUA212939775U039313P&token=EC-14U44265X5753815C&PayerID=GD3D99LDG53EY" for 127.0.0.1 at 2019-06-18 14:57:23 -0400
  
ActionController::RoutingError (No route matches [GET] "/billings/execute"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/billings/execute?paymentId=PAYID-LUETHUA212939775U039313P&token=EC-14U44265X5753815C&PayerID=GD3D99LDG53EY" for 127.0.0.1 at 2019-06-18 15:09:55 -0400
Processing by BillingsController#execute as HTML
  Parameters: {"paymentId"=>"PAYID-LUETHUA212939775U039313P", "token"=>"EC-14U44265X5753815C", "PayerID"=>"GD3D99LDG53EY"}
Completed 406 Not Acceptable in 14ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (BillingsController#execute is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.1.3) lib/action_controller/metal/implicit_render.rb:53:in `default_render'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
actionpack (5.1.3) lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:186:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
activesupport (5.1.3) lib/active_support/callbacks.rb:131:in `run_callbacks'
actionpack (5.1.3) lib/abstract_controller/callbacks.rb:19:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/rescue.rb:20:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `block in instrument'
activesupport (5.1.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (5.1.3) lib/active_support/notifications.rb:166:in `instrument'
actionpack (5.1.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
actionpack (5.1.3) lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
activerecord (5.1.3) lib/active_record/railties/controller_runtime.rb:22:in `process_action'
actionpack (5.1.3) lib/abstract_controller/base.rb:124:in `process'
actionview (5.1.3) lib/action_view/rendering.rb:30:in `process'
actionpack (5.1.3) lib/action_controller/metal.rb:189:in `dispatch'
actionpack (5.1.3) lib/action_controller/metal.rb:253:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/billings/execute?paymentId=PAYID-LUETHUA212939775U039313P&token=EC-14U44265X5753815C&PayerID=GD3D99LDG53EY" for 127.0.0.1 at 2019-06-18 15:12:20 -0400
Processing by BillingsController#execute as HTML
  Parameters: {"paymentId"=>"PAYID-LUETHUA212939775U039313P", "token"=>"EC-14U44265X5753815C", "PayerID"=>"GD3D99LDG53EY"}
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/billings/execute?paymentId=PAYID-LUETHUA212939775U039313P&token=EC-14U44265X5753815C&PayerID=GD3D99LDG53EY" for 127.0.0.1 at 2019-06-18 15:13:27 -0400
Processing by BillingsController#execute as HTML
  Parameters: {"paymentId"=>"PAYID-LUETHUA212939775U039313P", "token"=>"EC-14U44265X5753815C", "PayerID"=>"GD3D99LDG53EY"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/billings/execute?paymentId=PAYID-LUETHUA212939775U039313P&token=EC-14U44265X5753815C&PayerID=GD3D99LDG53EY" for 127.0.0.1 at 2019-06-18 15:16:13 -0400
Processing by BillingsController#execute as HTML
  Parameters: {"paymentId"=>"PAYID-LUETHUA212939775U039313P", "token"=>"EC-14U44265X5753815C", "PayerID"=>"GD3D99LDG53EY"}
Request[get]: https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUA212939775U039313P
Request.body=null	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)"}
Response[200]: OK, Duration: 1.042s
Response.body={"id":"PAYID-LUETHUA212939775U039313P","intent":"sale","state":"created","cart":"14U44265X5753815C","payer":{"payment_method":"paypal","status":"UNVERIFIED","payer_info":{"email":"susi.alcala@gmail.com","first_name":"Susana","last_name":"Alcala","payer_id":"GD3D99LDG53EY","shipping_address":{"recipient_name":"Susana Alcala","line1":"1 Main St","city":"San Jose","state":"CA","postal_code":"95131","country_code":"US"},"country_code":"US"}},"transactions":[{"amount":{"total":"173.00","currency":"USD"},"payee":{"merchant_id":"QRXN4HS77YL92","email":"PPX.DevNet-facilitator@gmail.com"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2}],"shipping_address":{"recipient_name":"Susana Alcala","line1":"1 Main St","city":"San Jose","state":"CA","postal_code":"95131","country_code":"US"}},"related_resources":[]}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute?paymentId=PAYID-LUETHUA212939775U039313P","cancel_url":"http://localhost:3000/"},"create_time":"2019-06-18T18:56:16Z","update_time":"2019-06-18T19:16:14Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUA212939775U039313P","rel":"self","method":"GET"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUA212939775U039313P/execute","rel":"execute","method":"POST"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-14U44265X5753815C","rel":"approval_url","method":"REDIRECT"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 19:16:13 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["18f93af6e4e14", "18f93af6e4e14"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2100824413%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:46:14 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1832"], "connection"=>["close"], "content-type"=>["application/json"]}
PayPal-Request-Id: 431bfbdc-4562-4a38-b018-5881e79cd704
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUA212939775U039313P/execute
Request.body={"payer_id":"GD3D99LDG53EY"}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"431bfbdc-4562-4a38-b018-5881e79cd704"}
Response[200]: OK, Duration: 1.961s
Response.body={"id":"PAYID-LUETHUA212939775U039313P","intent":"sale","state":"approved","cart":"14U44265X5753815C","payer":{"payment_method":"paypal","status":"UNVERIFIED","payer_info":{"email":"susi.alcala@gmail.com","first_name":"Susana","last_name":"Alcala","payer_id":"GD3D99LDG53EY","shipping_address":{"recipient_name":"Susana Alcala","line1":"1 Main St","city":"San Jose","state":"CA","postal_code":"95131","country_code":"US"},"country_code":"US"}},"transactions":[{"amount":{"total":"173.00","currency":"USD","details":{}},"payee":{"merchant_id":"QRXN4HS77YL92","email":"PPX.DevNet-facilitator@gmail.com"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2}],"shipping_address":{"recipient_name":"Susana Alcala","line1":"1 Main St","city":"San Jose","state":"CA","postal_code":"95131","country_code":"US"},"shipping_options":[null]},"related_resources":[{"sale":{"id":"5L879866MY465121Y","state":"completed","amount":{"total":"173.00","currency":"USD","details":{"subtotal":"173.00"}},"payment_mode":"INSTANT_TRANSFER","protection_eligibility":"ELIGIBLE","protection_eligibility_type":"ITEM_NOT_RECEIVED_ELIGIBLE,UNAUTHORIZED_PAYMENT_ELIGIBLE","transaction_fee":{"value":"5.32","currency":"USD"},"parent_payment":"PAYID-LUETHUA212939775U039313P","create_time":"2019-06-18T19:16:15Z","update_time":"2019-06-18T19:16:15Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/sale/5L879866MY465121Y","rel":"self","method":"GET"},{"href":"https://api.sandbox.paypal.com/v1/payments/sale/5L879866MY465121Y/refund","rel":"refund","method":"POST"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUA212939775U039313P","rel":"parent_payment","method":"GET"}]}}]}],"create_time":"2019-06-18T19:16:16Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETHUA212939775U039313P","rel":"self","method":"GET"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 19:16:15 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["a07198912bb6", "a07198912bb6"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2134378845%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:46:16 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["2232"], "connection"=>["close"], "content-type"=>["application/json"]}
  Rendering text template
  Rendered text template (0.0ms)
Completed 200 OK in 3011ms (Views: 2.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2019-06-18 15:24:20 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (18.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 64ms (Views: 50.0ms | ActiveRecord: 8.3ms)


Started POST "/products/1/orders" for 127.0.0.1 at 2019-06-18 15:24:24 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"nIk7JV0ay/bIwpX7WMu+reo1HOiAoel7g4jMypGeX9pTUJgeA39RTUImD4XkczprgaTH7kRixWNohuaZh+7Q3g==", "product_id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 1 AND "orders"."product_id" = 1 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 38], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "product_id", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["product_id", 1], ["created_at", "2019-06-18 19:24:24.156375"], ["updated_at", "2019-06-18 19:24:24.156375"], ["price", 38]]
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "quantity" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", "2019-06-18 19:24:24.178324"], ["quantity", 1], ["id", 5]]
  [1m[35m (7.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 69ms (ActiveRecord: 39.6ms)


Started GET "/products" for 127.0.0.1 at 2019-06-18 15:24:24 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 29ms (Views: 26.6ms | ActiveRecord: 1.4ms)


Started POST "/products/5/orders" for 127.0.0.1 at 2019-06-18 15:24:27 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"uTN3LpARNaw2IEwHhg5RnvVHFhsRmnlbG0tWyFJHQcV26tQVznSvF7zE1nk6ttVYntbNHdVZVUPwRXybRDfOwQ==", "product_id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 1 AND "orders"."product_id" = 5 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 93], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "product_id", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["product_id", 5], ["created_at", "2019-06-18 19:24:27.699743"], ["updated_at", "2019-06-18 19:24:27.699743"], ["price", 93]]
  [1m[35m (18.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "quantity" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", "2019-06-18 19:24:27.721102"], ["quantity", 1], ["id", 6]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 38ms (ActiveRecord: 27.7ms)


Started GET "/products" for 127.0.0.1 at 2019-06-18 15:24:27 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 27ms (Views: 24.6ms | ActiveRecord: 1.2ms)


Started GET "/orders" for 127.0.0.1 at 2019-06-18 15:24:43 -0400
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  Rendering orders/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendered orders/index.html.erb within layouts/application (11.5ms)
Completed 200 OK in 35ms (Views: 24.4ms | ActiveRecord: 3.7ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-06-18 15:24:48 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
PayPal-Request-Id: 5eab1fcb-9684-457e-85a9-eb3bfc81aa6e
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"304"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"1","name":"Mediocre Cotton Bottle","quantity":"2","price":"11","currency":"USD"},{"sku":"2","name":"Aerodynamic Concrete Keyboard","quantity":"2","price":"12","currency":"USD"},{"sku":"3","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"},{"sku":"4","name":"Rustic Aluminum Lamp","quantity":"2","price":"30","currency":"USD"},{"sku":"5","name":"Fantastic Cotton Keyboard","quantity":"1","price":"38","currency":"USD"},{"sku":"6","name":"Sleek Linen Coat","quantity":"1","price":"93","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"5eab1fcb-9684-457e-85a9-eb3bfc81aa6e"}
Response[201]: Created, Duration: 1.743s
Response.body={"id":"PAYID-LUETVAQ9FB717747J873714S","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"304.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2},{"name":"Fantastic Cotton Keyboard","sku":"5","price":"38.00","currency":"USD","quantity":1},{"name":"Sleek Linen Coat","sku":"6","price":"93.00","currency":"USD","quantity":1}]},"related_resources":[]}],"create_time":"2019-06-18T19:24:50Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETVAQ9FB717747J873714S","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0LL24209CT135924N","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETVAQ9FB717747J873714S/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 19:24:49 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["877bfc15db440", "877bfc15db440"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2168064349%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:54:50 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1258"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-0LL24209CT135924N
Completed 302 Found in 1763ms (ActiveRecord: 3.7ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-06-18 15:24:52 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
PayPal-Request-Id: 8f8c2bcf-bb20-42d1-99e8-d93e71a29fad
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"304"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"1","name":"Mediocre Cotton Bottle","quantity":"2","price":"11","currency":"USD"},{"sku":"2","name":"Aerodynamic Concrete Keyboard","quantity":"2","price":"12","currency":"USD"},{"sku":"3","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"},{"sku":"4","name":"Rustic Aluminum Lamp","quantity":"2","price":"30","currency":"USD"},{"sku":"5","name":"Fantastic Cotton Keyboard","quantity":"1","price":"38","currency":"USD"},{"sku":"6","name":"Sleek Linen Coat","quantity":"1","price":"93","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"8f8c2bcf-bb20-42d1-99e8-d93e71a29fad"}
Response[201]: Created, Duration: 1.895s
Response.body={"id":"PAYID-LUETVBQ9GX63778KE715260K","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"304.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2},{"name":"Fantastic Cotton Keyboard","sku":"5","price":"38.00","currency":"USD","quantity":1},{"name":"Sleek Linen Coat","sku":"6","price":"93.00","currency":"USD","quantity":1}]},"related_resources":[]}],"create_time":"2019-06-18T19:24:53Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETVBQ9GX63778KE715260K","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-8543346008846663Y","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETVBQ9GX63778KE715260K/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 19:24:53 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["68aa568d8f8e9", "68aa568d8f8e9"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2235173213%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:54:54 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1258"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-8543346008846663Y
Completed 302 Found in 1917ms (ActiveRecord: 3.4ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-06-18 15:24:55 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
PayPal-Request-Id: a9b973db-6449-493c-aab5-9e9fb972253c
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"304"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"1","name":"Mediocre Cotton Bottle","quantity":"2","price":"11","currency":"USD"},{"sku":"2","name":"Aerodynamic Concrete Keyboard","quantity":"2","price":"12","currency":"USD"},{"sku":"3","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"},{"sku":"4","name":"Rustic Aluminum Lamp","quantity":"2","price":"30","currency":"USD"},{"sku":"5","name":"Fantastic Cotton Keyboard","quantity":"1","price":"38","currency":"USD"},{"sku":"6","name":"Sleek Linen Coat","quantity":"1","price":"93","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"a9b973db-6449-493c-aab5-9e9fb972253c"}
Response[201]: Created, Duration: 1.316s
Response.body={"id":"PAYID-LUETVCI04C48875TB459372X","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"304.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2},{"name":"Fantastic Cotton Keyboard","sku":"5","price":"38.00","currency":"USD","quantity":1},{"name":"Sleek Linen Coat","sku":"6","price":"93.00","currency":"USD","quantity":1}]},"related_resources":[]}],"create_time":"2019-06-18T19:24:56Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETVCI04C48875TB459372X","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-62S61667A7921800E","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETVCI04C48875TB459372X/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 19:24:56 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["2f37c282f45", "2f37c282f45"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2285504861%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:54:57 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1258"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-62S61667A7921800E
Completed 302 Found in 1340ms (ActiveRecord: 3.1ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-06-18 15:24:59 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
PayPal-Request-Id: 77cf7c2c-8707-4091-95b5-c26b0f12803f
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"304"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"1","name":"Mediocre Cotton Bottle","quantity":"2","price":"11","currency":"USD"},{"sku":"2","name":"Aerodynamic Concrete Keyboard","quantity":"2","price":"12","currency":"USD"},{"sku":"3","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"},{"sku":"4","name":"Rustic Aluminum Lamp","quantity":"2","price":"30","currency":"USD"},{"sku":"5","name":"Fantastic Cotton Keyboard","quantity":"1","price":"38","currency":"USD"},{"sku":"6","name":"Sleek Linen Coat","quantity":"1","price":"93","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"77cf7c2c-8707-4091-95b5-c26b0f12803f"}
Response[201]: Created, Duration: 1.981s
Response.body={"id":"PAYID-LUETVDI0XY81644DK757822C","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"304.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2},{"name":"Fantastic Cotton Keyboard","sku":"5","price":"38.00","currency":"USD","quantity":1},{"name":"Sleek Linen Coat","sku":"6","price":"93.00","currency":"USD","quantity":1}]},"related_resources":[]}],"create_time":"2019-06-18T19:25:00Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETVDI0XY81644DK757822C","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-72K97040MU1474209","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETVDI0XY81644DK757822C/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 19:25:00 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["a519ec5d652bf", "a519ec5d652bf"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2352613725%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:55:01 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1258"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-72K97040MU1474209
Completed 302 Found in 1998ms (ActiveRecord: 2.7ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-06-18 15:25:02 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 1], ["payed", "f"]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
PayPal-Request-Id: 55e11536-afab-46b2-a7f0-c4169b436ff9
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"304"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"1","name":"Mediocre Cotton Bottle","quantity":"2","price":"11","currency":"USD"},{"sku":"2","name":"Aerodynamic Concrete Keyboard","quantity":"2","price":"12","currency":"USD"},{"sku":"3","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"},{"sku":"4","name":"Rustic Aluminum Lamp","quantity":"2","price":"30","currency":"USD"},{"sku":"5","name":"Fantastic Cotton Keyboard","quantity":"1","price":"38","currency":"USD"},{"sku":"6","name":"Sleek Linen Coat","quantity":"1","price":"93","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAGuDy1ZtCDBsl12Cr4RhsDu7wv5DOEMYVBKINV7JriDMdhpkocryC98HGltSvVKLXBLdx6KyENxWhws8fVHJMvDMoG6tA", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.0g  2 Nov 2017)", "PayPal-Request-Id"=>"55e11536-afab-46b2-a7f0-c4169b436ff9"}
Response[201]: Created, Duration: 1.991s
Response.body={"id":"PAYID-LUETVEA8YB137620A512120W","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"304.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Mediocre Cotton Bottle","sku":"1","price":"11.00","currency":"USD","quantity":2},{"name":"Aerodynamic Concrete Keyboard","sku":"2","price":"12.00","currency":"USD","quantity":2},{"name":"Ergonomic Copper Bottle","sku":"3","price":"67.00","currency":"USD","quantity":1},{"name":"Rustic Aluminum Lamp","sku":"4","price":"30.00","currency":"USD","quantity":2},{"name":"Fantastic Cotton Keyboard","sku":"5","price":"38.00","currency":"USD","quantity":1},{"name":"Sleek Linen Coat","sku":"6","price":"93.00","currency":"USD","quantity":1}]},"related_resources":[]}],"create_time":"2019-06-18T19:25:03Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETVEA8YB137620A512120W","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-53B52224UE615714K","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUETVEA8YB137620A512120W/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Tue, 18 Jun 2019 19:25:03 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["67ef1be7d27d2", "67ef1be7d27d2"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2402945373%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Tue, 18 Jun 2019 19:55:04 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1258"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-53B52224UE615714K
Completed 302 Found in 2010ms (ActiveRecord: 2.7ms)


Started GET "/products" for 127.0.0.1 at 2019-07-04 18:17:14 -0400
  [1m[35m (32.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (41.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (128.4ms)
Completed 200 OK in 398ms (Views: 275.1ms | ActiveRecord: 106.1ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-07-04 18:17:21 -0400
  
SyntaxError (/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^):
  
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `load'
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `block in load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:661:in `new_constants_in'
activesupport (5.1.3) lib/active_support/dependencies.rb:475:in `load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:374:in `block in require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `block in load_interlock'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:12:in `block in loading'
activesupport (5.1.3) lib/active_support/concurrency/share_lock.rb:149:in `exclusive'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:11:in `loading'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `load_interlock'
activesupport (5.1.3) lib/active_support/dependencies.rb:357:in `require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:510:in `load_missing_constant'
activesupport (5.1.3) lib/active_support/dependencies.rb:202:in `const_missing'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
activesupport (5.1.3) lib/active_support/dependencies.rb:582:in `get'
activesupport (5.1.3) lib/active_support/dependencies.rb:613:in `constantize'
actionpack (5.1.3) lib/action_dispatch/http/request.rb:82:in `controller_class'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:46:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/products" for 127.0.0.1 at 2019-07-04 18:45:29 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (7.9ms)
Completed 200 OK in 111ms (Views: 107.7ms | ActiveRecord: 1.2ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2019-07-04 18:45:53 -0400
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.6ms)
  Rendered devise/registrations/new.html.erb within layouts/application (1291.4ms)
Completed 200 OK in 1404ms (Views: 1365.1ms | ActiveRecord: 6.4ms)


Started POST "/users" for 127.0.0.1 at 2019-07-04 18:46:35 -0400
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LNr+ZFcE30MyHu4TamqpMNkQf5a4akJJPtGmzkLOWoUysNhbsShj2E6+UkAZLBQHWnjz3Fgo7T/siEAvqvuDBg==", "user"=>{"name"=>"Peter", "email"=>"peter@dlm.cl", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (54.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "peter@dlm.cl"], ["LIMIT", 1]]
  [1m[35mSQL (44.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "peter@dlm.cl"], ["encrypted_password", "$2a$11$SW6tI5gnFDsLzoa2cI68IelZGZOYxQdhoSEoUz/jQjNyKkw/EruhG"], ["name", "Peter"], ["created_at", "2019-07-04 22:46:35.606565"], ["updated_at", "2019-07-04 22:46:35.606565"]]
  [1m[35m (28.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (28.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2019-07-04 22:46:35.683459"], ["last_sign_in_at", "2019-07-04 22:46:35.683459"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2019-07-04 22:46:35.684852"], ["id", 2]]
  [1m[35m (9.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 441ms (ActiveRecord: 166.1ms)


Started GET "/" for 127.0.0.1 at 2019-07-04 18:46:35 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (7.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 28ms (Views: 24.5ms | ActiveRecord: 1.8ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2019-07-04 18:46:37 -0400
  
SyntaxError (/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^):
  
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `load'
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `block in load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:661:in `new_constants_in'
activesupport (5.1.3) lib/active_support/dependencies.rb:475:in `load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:374:in `block in require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `block in load_interlock'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:12:in `block in loading'
activesupport (5.1.3) lib/active_support/concurrency/share_lock.rb:149:in `exclusive'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:11:in `loading'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `load_interlock'
activesupport (5.1.3) lib/active_support/dependencies.rb:357:in `require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:510:in `load_missing_constant'
activesupport (5.1.3) lib/active_support/dependencies.rb:202:in `const_missing'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
activesupport (5.1.3) lib/active_support/dependencies.rb:582:in `get'
activesupport (5.1.3) lib/active_support/dependencies.rb:613:in `constantize'
actionpack (5.1.3) lib/action_dispatch/http/request.rb:82:in `controller_class'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:46:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/sign_in" for 127.0.0.1 at 2019-07-04 18:52:09 -0400
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^):
  
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `load'
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `block in load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:661:in `new_constants_in'
activesupport (5.1.3) lib/active_support/dependencies.rb:475:in `load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:374:in `block in require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `block in load_interlock'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:12:in `block in loading'
activesupport (5.1.3) lib/active_support/concurrency/share_lock.rb:149:in `exclusive'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:11:in `loading'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `load_interlock'
activesupport (5.1.3) lib/active_support/dependencies.rb:357:in `require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:510:in `load_missing_constant'
activesupport (5.1.3) lib/active_support/dependencies.rb:202:in `const_missing'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
activesupport (5.1.3) lib/active_support/dependencies.rb:582:in `get'
activesupport (5.1.3) lib/active_support/dependencies.rb:613:in `constantize'
actionpack (5.1.3) lib/action_dispatch/http/request.rb:82:in `controller_class'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:46:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/sign_in" for 127.0.0.1 at 2019-07-04 18:52:15 -0400
  
SyntaxError (/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^):
  
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `load'
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `block in load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:661:in `new_constants_in'
activesupport (5.1.3) lib/active_support/dependencies.rb:475:in `load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:374:in `block in require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `block in load_interlock'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:12:in `block in loading'
activesupport (5.1.3) lib/active_support/concurrency/share_lock.rb:149:in `exclusive'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:11:in `loading'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `load_interlock'
activesupport (5.1.3) lib/active_support/dependencies.rb:357:in `require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:510:in `load_missing_constant'
activesupport (5.1.3) lib/active_support/dependencies.rb:202:in `const_missing'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
activesupport (5.1.3) lib/active_support/dependencies.rb:582:in `get'
activesupport (5.1.3) lib/active_support/dependencies.rb:613:in `constantize'
actionpack (5.1.3) lib/action_dispatch/http/request.rb:82:in `controller_class'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:46:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/sign_up" for 127.0.0.1 at 2019-07-04 18:52:19 -0400
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 537ms (ActiveRecord: 7.2ms)


Started GET "/" for 127.0.0.1 at 2019-07-04 18:52:20 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (19.7ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 346ms (Views: 330.4ms | ActiveRecord: 8.0ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2019-07-04 18:52:30 -0400
  
SyntaxError (/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^):
  
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `load'
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `block in load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:661:in `new_constants_in'
activesupport (5.1.3) lib/active_support/dependencies.rb:475:in `load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:374:in `block in require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `block in load_interlock'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:12:in `block in loading'
activesupport (5.1.3) lib/active_support/concurrency/share_lock.rb:149:in `exclusive'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:11:in `loading'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `load_interlock'
activesupport (5.1.3) lib/active_support/dependencies.rb:357:in `require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:510:in `load_missing_constant'
activesupport (5.1.3) lib/active_support/dependencies.rb:202:in `const_missing'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
activesupport (5.1.3) lib/active_support/dependencies.rb:582:in `get'
activesupport (5.1.3) lib/active_support/dependencies.rb:613:in `constantize'
actionpack (5.1.3) lib/action_dispatch/http/request.rb:82:in `controller_class'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:46:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/products/3/orders" for 127.0.0.1 at 2019-07-04 19:02:08 -0400
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"AlXzWIkJIMLIZJKF0/poBbisZe8Drcmy+3kewiu2PcOR34WIYcQhTYP1n1krBP6KKVvDaEEG0QQcVDEuwhm+FQ==", "product_id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (18.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mOrder Load (41.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 2 AND "orders"."product_id" = 3 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (17.4ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "product_id", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["product_id", 3], ["created_at", "2019-07-04 23:02:08.655642"], ["updated_at", "2019-07-04 23:02:08.655642"], ["price", 11]]
  [1m[35m (10.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "quantity" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", "2019-07-04 23:02:08.687292"], ["quantity", 1], ["id", 7]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 246ms (ActiveRecord: 113.0ms)


Started GET "/products" for 127.0.0.1 at 2019-07-04 19:02:08 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.3ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 219ms (Views: 214.7ms | ActiveRecord: 1.5ms)


Started POST "/products/8/orders" for 127.0.0.1 at 2019-07-04 19:02:11 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"nVOb+MOMKvenrbmZSEiEdiywXEQwvKqmhbDylKv1iKgO2e0oK0EreOw8tEWwthL5vUf6w3IXshBind14QloLfg==", "product_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 2 AND "orders"."product_id" = 8 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 76], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "product_id", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["product_id", 8], ["created_at", "2019-07-04 23:02:11.110326"], ["updated_at", "2019-07-04 23:02:11.110326"], ["price", 76]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "quantity" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", "2019-07-04 23:02:11.122418"], ["quantity", 1], ["id", 8]]
  [1m[35m (7.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 30ms (ActiveRecord: 19.1ms)


Started GET "/products" for 127.0.0.1 at 2019-07-04 19:02:11 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.7ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 35ms (Views: 31.9ms | ActiveRecord: 1.4ms)


Started GET "/orders" for 127.0.0.1 at 2019-07-04 19:02:17 -0400
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (15.0ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 2], ["payed", "f"]]
  Rendering orders/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 2], ["payed", "f"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 2], ["payed", "f"]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered orders/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 69ms (Views: 26.1ms | ActiveRecord: 17.4ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-07-04 19:02:18 -0400
  
SyntaxError (/home/susana/Escritorio/G22/semana_9/ecommerce-base/app/controllers/billings_controller.rb:69: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/billings_controller.rb:69: syntax error, unexpected end-of-input, expecting end
Started GET "/orders" for 127.0.0.1 at 2019-07-04 19:02:28 -0400
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 2], ["payed", "f"]]
  Rendering orders/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 2], ["payed", "f"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 2], ["payed", "f"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered orders/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 27ms (Views: 20.6ms | ActiveRecord: 2.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2019-07-04 19:02:34 -0400
  
SyntaxError (/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^):
  
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '{', expecting end
...ion only: [:create, :destroy] { request.env["devise.skip_tim...
...                              ^
/home/susana/.rvm/gems/ruby-2.6.2/bundler/gems/devise-71fc5b351a8e/app/controllers/devise/sessions_controller.rb:5: syntax error, unexpected '}', expecting end
..."devise.skip_timeout"] = true }
...                              ^
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `load'
activesupport (5.1.3) lib/active_support/dependencies.rb:476:in `block in load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:661:in `new_constants_in'
activesupport (5.1.3) lib/active_support/dependencies.rb:475:in `load_file'
activesupport (5.1.3) lib/active_support/dependencies.rb:374:in `block in require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `block in load_interlock'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:12:in `block in loading'
activesupport (5.1.3) lib/active_support/concurrency/share_lock.rb:149:in `exclusive'
activesupport (5.1.3) lib/active_support/dependencies/interlock.rb:11:in `loading'
activesupport (5.1.3) lib/active_support/dependencies.rb:36:in `load_interlock'
activesupport (5.1.3) lib/active_support/dependencies.rb:357:in `require_or_load'
activesupport (5.1.3) lib/active_support/dependencies.rb:510:in `load_missing_constant'
activesupport (5.1.3) lib/active_support/dependencies.rb:202:in `const_missing'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `const_get'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:271:in `block in constantize'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `each'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `inject'
activesupport (5.1.3) lib/active_support/inflector/methods.rb:267:in `constantize'
activesupport (5.1.3) lib/active_support/dependencies.rb:582:in `get'
activesupport (5.1.3) lib/active_support/dependencies.rb:613:in `constantize'
actionpack (5.1.3) lib/action_dispatch/http/request.rb:82:in `controller_class'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:43:in `controller'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:29:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'
actionpack (5.1.3) lib/action_dispatch/routing/mapper.rb:46:in `serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:46:in `block in serve'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `each'
actionpack (5.1.3) lib/action_dispatch/journey/router.rb:33:in `serve'
actionpack (5.1.3) lib/action_dispatch/routing/route_set.rb:834:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.3) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.3) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.3) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-07-04 19:02:39 -0400
  
SyntaxError (/home/susana/Escritorio/G22/semana_9/ecommerce-base/app/controllers/billings_controller.rb:69: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/billings_controller.rb:69: syntax error, unexpected end-of-input, expecting end
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35mSQL (1.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (15.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 2]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 1]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 4]]
  [1m[35m (8.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 5]]
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 6]]
  [1m[35m (8.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 7]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 8]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35mSQL (9.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[35m (29.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35mSQL (1.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
Started GET "/users" for 127.0.0.1 at 2019-07-04 20:09:59 -0400
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
actionpack (5.1.3) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.3) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.3) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.3) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.3) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.3) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2019-07-04 20:10:08 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (23.1ms)
Completed 200 OK in 259ms (Views: 235.5ms | ActiveRecord: 5.8ms)


Started GET "/" for 127.0.0.1 at 2019-07-04 20:15:09 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 23ms (Views: 20.8ms | ActiveRecord: 0.6ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-07-04 20:15:25 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (555.6ms)
Completed 200 OK in 637ms (Views: 603.9ms | ActiveRecord: 5.3ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2019-07-04 20:15:29 -0400
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
DEPRECATION WARNING: [Devise] `DeviseHelper.devise_error_messages!`
is deprecated and it will be removed in the next major version.
To customize the errors styles please run `rails g devise:views` and modify the
`devise/shared/error_messages` partial.
 (called from block in _app_views_devise_registrations_new_html_erb___3885690907909097035_70252991023880 at /home/susana/Escritorio/G22/semana_9/ecommerce-base/app/views/devise/registrations/new.html.erb:4)
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/registrations/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2019-07-04 20:15:49 -0400
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LIN+LqgnSV4/3Pk3DmHEJTEgdYVxTjgiFVmsNHyZCG0y6VgRTgv1xUN8RWR9J3kSskj5z5EMl1THAErVlKzR7g==", "user"=>{"name"=>"Susana", "email"=>"susana@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "susana@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "susana@gmail.com"], ["encrypted_password", "$2a$11$f0YHQnboluC35Wfr56R1s.zSuwYvoJJz1V8JbGmsWDH3DrNs/gRWu"], ["name", "Susana"], ["created_at", "2019-07-05 00:15:49.941303"], ["updated_at", "2019-07-05 00:15:49.941303"]]
  [1m[35m (16.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2019-07-05 00:15:49.960023"], ["last_sign_in_at", "2019-07-05 00:15:49.960023"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2019-07-05 00:15:49.960858"], ["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 231ms (ActiveRecord: 25.8ms)


Started GET "/" for 127.0.0.1 at 2019-07-04 20:15:49 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.8ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 32ms (Views: 29.5ms | ActiveRecord: 1.3ms)


Started GET "/orders" for 127.0.0.1 at 2019-07-04 20:16:11 -0400
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  Rendering orders/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  Rendered orders/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 48ms (Views: 24.2ms | ActiveRecord: 3.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2019-07-04 20:16:16 -0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"icd/yx1qWaGypImcWimzvmh7NdM0Hx7qW94UDDa1EBEaTQkb9adYLvk1hECi1yUx+YyTVHa0Bly88zvg3xqTxw=="}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 22ms (ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2019-07-04 20:16:16 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 0.9ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-07-04 20:16:19 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (5.9ms)
Completed 200 OK in 25ms (Views: 23.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2019-07-04 20:16:26 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"eEvOPce2gkEZz04hpsKrWpPhUaMF0oIEvyKw19h9B50CqqWoNJJr0PBoAr8o3FhpWAIn6lw2VaQyoUfQi+IG2Q==", "user"=>{"email"=>"susana@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "susana@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2019-07-05 00:16:27.152218"], ["sign_in_count", 2], ["updated_at", "2019-07-05 00:16:27.153189"], ["id", 3]]
  [1m[35m (9.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 197ms (ActiveRecord: 11.2ms)


Started GET "/" for 127.0.0.1 at 2019-07-04 20:16:27 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 27ms (Views: 24.4ms | ActiveRecord: 1.4ms)


Started GET "/orders" for 127.0.0.1 at 2019-07-04 20:18:30 -0400
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  Rendering orders/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  Rendered orders/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 30ms (Views: 23.6ms | ActiveRecord: 1.9ms)


Started GET "/orders" for 127.0.0.1 at 2019-07-04 20:18:33 -0400
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  Rendering orders/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  Rendered orders/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 26ms (Views: 17.7ms | ActiveRecord: 1.7ms)


Started POST "/products/2/orders" for 127.0.0.1 at 2019-07-04 20:18:42 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"wfChho5qG4CWSkCd3srR2yikdfi14ENzdw1agiM8TqTufjgtLJowG8XYALwXr95OmuNLOt1nkLInwD/QUPDXPw==", "product_id"=>"2"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 3 AND "orders"."product_id" = 2 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 67], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "product_id", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["product_id", 2], ["created_at", "2019-07-05 00:18:42.599132"], ["updated_at", "2019-07-05 00:18:42.599132"], ["price", 67]]
  [1m[35m (14.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "quantity" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", "2019-07-05 00:18:42.616445"], ["quantity", 1], ["id", 9]]
  [1m[35m (8.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 59ms (ActiveRecord: 28.2ms)


Started GET "/products" for 127.0.0.1 at 2019-07-04 20:18:42 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 29ms (Views: 26.0ms | ActiveRecord: 1.2ms)


Started GET "/orders" for 127.0.0.1 at 2019-07-04 20:18:43 -0400
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  Rendering orders/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered orders/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 28ms (Views: 21.1ms | ActiveRecord: 2.8ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-07-04 20:18:47 -0400
  
SyntaxError (/home/susana/Escritorio/G22/semana_9/ecommerce-base/app/controllers/billings_controller.rb:69: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/billings_controller.rb:69: syntax error, unexpected end-of-input, expecting end
Started GET "/" for 127.0.0.1 at 2019-07-04 20:19:40 -0400
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (18.4ms)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 281ms (Views: 256.5ms | ActiveRecord: 13.1ms)


Started GET "/orders" for 127.0.0.1 at 2019-07-04 20:19:44 -0400
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  Rendering orders/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered orders/index.html.erb within layouts/application (26.4ms)
Completed 200 OK in 66ms (Views: 37.3ms | ActiveRecord: 7.9ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-07-04 20:19:45 -0400
  
SyntaxError (/home/susana/Escritorio/G22/semana_9/ecommerce-base/app/controllers/billings_controller.rb:69: syntax error, unexpected end-of-input, expecting end):
  
app/controllers/billings_controller.rb:69: syntax error, unexpected end-of-input, expecting end
Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-07-04 20:23:13 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
PayPal-Request-Id: 1c95d10f-90c7-4f3b-b77e-563f3365796a
Request[post]: https://api.sandbox.paypal.com/v1/oauth2/token
Request.body=grant_type=client_credentials	request.header={"User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.1  11 Sep 2018)", "Content-Type"=>"application/x-www-form-urlencoded", "Authorization"=>"Basic QWRha1Y2clgyZXA2c0l5OUVPTGFiaTEtUWhKOEl2V3NXbkRxU2pGb2c2WDZvVGJvNENmZm11SExrd2NoekJfVnlXWnZNMHhaWUp3dDZJNW06RUc5emFOQ0lIVjFrd1hENU44REItZGFlV1BRZDJoNWpTOUFXMHpLanQ1MVV4eVpFUXZMOWs5WFNVOHI1bWk1dGdLbWZsTmxtR2JyaVBjeGM=", "PayPal-Request-Id"=>"1c95d10f-90c7-4f3b-b77e-563f3365796a"}
Response[200]: OK, Duration: 3.141s
Response.body={"scope":"https://uri.paypal.com/services/invoicing https://uri.paypal.com/services/disputes/read-buyer https://uri.paypal.com/services/payments/realtimepayment https://uri.paypal.com/services/disputes/update-seller https://uri.paypal.com/services/payments/payment/authcapture openid https://uri.paypal.com/services/disputes/read-seller https://uri.paypal.com/services/payments/refund https://api.paypal.com/v1/vault/credit-card https://api.paypal.com/v1/payments/.* https://uri.paypal.com/payments/payouts https://api.paypal.com/v1/vault/credit-card/.* https://uri.paypal.com/services/subscriptions https://uri.paypal.com/services/applications/webhooks","access_token":"A21AAHoSkGGraSKteY0EYN5fw4lNpvwZluApxr_NQ1Ltr6qk2Wkw-Qiz6XMlK6aMkqF8rH_9-tRXGM5MhrprSQlJxFAX_WVyQ","token_type":"Bearer","app_id":"APP-80W284485P519543T","expires_in":32400,"nonce":"2019-07-05T00:23:16Zk7dUUwk-TA8RPmYrMiidvRc7sMcZMcGqzeq16O7bgVs"}	Response.header={"date"=>["Fri, 05 Jul 2019 00:23:15 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["a8898dedb8888", "a8898dedb8888"], "x-paypal-token-service"=>["IAAS"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D1939349085%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Fri, 05 Jul 2019 00:53:16 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["918"], "connection"=>["close"], "content-type"=>["application/json"]}
PayPal-Request-Id: 1c95d10f-90c7-4f3b-b77e-563f3365796a
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"67"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"9","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAHoSkGGraSKteY0EYN5fw4lNpvwZluApxr_NQ1Ltr6qk2Wkw-Qiz6XMlK6aMkqF8rH_9-tRXGM5MhrprSQlJxFAX_WVyQ", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.1  11 Sep 2018)", "PayPal-Request-Id"=>"1c95d10f-90c7-4f3b-b77e-563f3365796a"}
Response[201]: Created, Duration: 1.731s
Response.body={"id":"PAYID-LUPJQ5Q2NH66517FS069915E","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"67.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Ergonomic Copper Bottle","sku":"9","price":"67.00","currency":"USD","quantity":1}]},"related_resources":[]}],"create_time":"2019-07-05T00:23:17Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJQ5Q2NH66517FS069915E","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9VN6070317803133M","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJQ5Q2NH66517FS069915E/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Fri, 05 Jul 2019 00:23:17 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["c955c6fd5732b", "c955c6fd5732b"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D1972903517%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Fri, 05 Jul 2019 00:53:18 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["805"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9VN6070317803133M
Completed 302 Found in 5013ms (ActiveRecord: 16.5ms)


Started GET "/billings/execute?paymentId=PAYID-LUPJQ5Q2NH66517FS069915E&token=EC-9VN6070317803133M&PayerID=GD3D99LDG53EY" for 127.0.0.1 at 2019-07-04 20:24:08 -0400
Processing by BillingsController#execute as HTML
  Parameters: {"paymentId"=>"PAYID-LUPJQ5Q2NH66517FS069915E", "token"=>"EC-9VN6070317803133M", "PayerID"=>"GD3D99LDG53EY"}
Request[get]: https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJQ5Q2NH66517FS069915E
Request.body=null	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAHoSkGGraSKteY0EYN5fw4lNpvwZluApxr_NQ1Ltr6qk2Wkw-Qiz6XMlK6aMkqF8rH_9-tRXGM5MhrprSQlJxFAX_WVyQ", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.1  11 Sep 2018)"}
Response[200]: OK, Duration: 1.144s
Response.body={"id":"PAYID-LUPJQ5Q2NH66517FS069915E","intent":"sale","state":"created","cart":"9VN6070317803133M","payer":{"payment_method":"paypal","status":"UNVERIFIED","payer_info":{"email":"susi.alcala@gmail.com","first_name":"Susana","last_name":"Alcala","payer_id":"GD3D99LDG53EY","shipping_address":{"recipient_name":"Susana Alcala","line1":"1 Main St","city":"San Jose","state":"CA","postal_code":"95131","country_code":"US"},"country_code":"US"}},"transactions":[{"amount":{"total":"67.00","currency":"USD"},"payee":{"merchant_id":"GCSGSTMU2CBH4","email":"susi_alcala@hotmail.com"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Ergonomic Copper Bottle","sku":"9","price":"67.00","currency":"USD","quantity":1}],"shipping_address":{"recipient_name":"Susana Alcala","line1":"1 Main St","city":"San Jose","state":"CA","postal_code":"95131","country_code":"US"}},"related_resources":[]}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute?paymentId=PAYID-LUPJQ5Q2NH66517FS069915E","cancel_url":"http://localhost:3000/"},"create_time":"2019-07-05T00:23:17Z","update_time":"2019-07-05T00:24:09Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJQ5Q2NH66517FS069915E","rel":"self","method":"GET"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJQ5Q2NH66517FS069915E/execute","rel":"execute","method":"POST"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-9VN6070317803133M","rel":"approval_url","method":"REDIRECT"}]}	Response.header={"date"=>["Fri, 05 Jul 2019 00:24:09 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["78d50ee96ad6", "78d50ee96ad6"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2845318749%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Fri, 05 Jul 2019 00:54:09 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1547"], "connection"=>["close"], "content-type"=>["application/json"]}
PayPal-Request-Id: 02b8a0e1-d471-4aef-a358-da7f83936beb
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJQ5Q2NH66517FS069915E/execute
Request.body={"payer_id":"GD3D99LDG53EY"}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAHoSkGGraSKteY0EYN5fw4lNpvwZluApxr_NQ1Ltr6qk2Wkw-Qiz6XMlK6aMkqF8rH_9-tRXGM5MhrprSQlJxFAX_WVyQ", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.1  11 Sep 2018)", "PayPal-Request-Id"=>"02b8a0e1-d471-4aef-a358-da7f83936beb"}
Response[200]: OK, Duration: 1.921s
Response.body={"id":"PAYID-LUPJQ5Q2NH66517FS069915E","intent":"sale","state":"approved","cart":"9VN6070317803133M","payer":{"payment_method":"paypal","status":"UNVERIFIED","payer_info":{"email":"susi.alcala@gmail.com","first_name":"Susana","last_name":"Alcala","payer_id":"GD3D99LDG53EY","shipping_address":{"recipient_name":"Susana Alcala","line1":"1 Main St","city":"San Jose","state":"CA","postal_code":"95131","country_code":"US"},"country_code":"US"}},"transactions":[{"amount":{"total":"67.00","currency":"USD","details":{}},"payee":{"merchant_id":"GCSGSTMU2CBH4","email":"susi_alcala@hotmail.com"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Ergonomic Copper Bottle","sku":"9","price":"67.00","currency":"USD","quantity":1}],"shipping_address":{"recipient_name":"Susana Alcala","line1":"1 Main St","city":"San Jose","state":"CA","postal_code":"95131","country_code":"US"},"shipping_options":[null]},"related_resources":[{"sale":{"id":"17A665782B429054Y","state":"completed","amount":{"total":"67.00","currency":"USD","details":{"subtotal":"67.00"}},"payment_mode":"INSTANT_TRANSFER","protection_eligibility":"ELIGIBLE","protection_eligibility_type":"ITEM_NOT_RECEIVED_ELIGIBLE,UNAUTHORIZED_PAYMENT_ELIGIBLE","transaction_fee":{"value":"2.24","currency":"USD"},"parent_payment":"PAYID-LUPJQ5Q2NH66517FS069915E","create_time":"2019-07-05T00:24:10Z","update_time":"2019-07-05T00:24:10Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/sale/17A665782B429054Y","rel":"self","method":"GET"},{"href":"https://api.sandbox.paypal.com/v1/payments/sale/17A665782B429054Y/refund","rel":"refund","method":"POST"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJQ5Q2NH66517FS069915E","rel":"parent_payment","method":"GET"}]}}]}],"create_time":"2019-07-05T00:24:11Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJQ5Q2NH66517FS069915E","rel":"self","method":"GET"}]}	Response.header={"date"=>["Fri, 05 Jul 2019 00:24:10 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["b44979d79e65a", "b44979d79e65a"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D2862095965%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Fri, 05 Jul 2019 00:54:11 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1945"], "connection"=>["close"], "content-type"=>["application/json"]}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (8.3ms)[0m  [1m[32mINSERT INTO "billings" ("code", "payment_method", "amount", "currency", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["code", "PAYID-LUPJQ5Q2NH66517FS069915E"], ["payment_method", "paypal"], ["amount", "67.0"], ["currency", "USD"], ["user_id", 3], ["created_at", "2019-07-05 00:24:11.794885"], ["updated_at", "2019-07-05 00:24:11.794885"]]
  [1m[35m (66.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (24.3ms)[0m  [1m[33mUPDATE "orders" SET "payed" = 't', "billing_id" = 1 WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
Redirected to http://localhost:3000/
Completed 302 Found in 3213ms (ActiveRecord: 106.3ms)


Started GET "/" for 127.0.0.1 at 2019-07-04 20:24:11 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 30ms (Views: 27.1ms | ActiveRecord: 1.3ms)


Started GET "/orders" for 127.0.0.1 at 2019-07-04 20:24:47 -0400
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  Rendering orders/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 3], ["payed", "f"]]
  Rendered orders/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 26ms (Views: 19.0ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2019-07-04 20:24:53 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 32ms (Views: 27.4ms | ActiveRecord: 1.1ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2019-07-04 20:24:58 -0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"vkQ6Olem8ZsTZd92+Eub7top6ya3zYqPzqfkjtpCuWiRyqOR9VbaAED3n1cxLpR7aG7V5N9KWU6eaoHcqY4g8w=="}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 475ms (ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2019-07-04 20:24:58 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 35ms (Views: 33.0ms | ActiveRecord: 0.7ms)


Started POST "/products/1/orders" for 127.0.0.1 at 2019-07-04 20:25:02 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"U3mZd3niPiXHXDBgLANUTQA/KE9OewL4ojq/7Beehxks7M4mlCEjgGfqv1WY/TWCITRijGr1VV1mv1OyK7du+Q==", "product_id"=>"1"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-07-04 20:25:02 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (12.9ms)
Completed 200 OK in 32ms (Views: 30.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-07-04 20:26:17 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 25ms (Views: 23.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2019-07-04 20:29:47 -0400
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 24ms (Views: 21.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2019-07-04 20:30:11 -0400
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hixivIxAef3+wOppggEl9ZEpyf2pOJ56uHSOZGuREa35uTXtYYNkWF52ZVw2/0Q6sCKDPo22yd988WI6V7j4TQ==", "user"=>{"email"=>"peter@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "peter@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 6ms (ActiveRecord: 1.1ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hixivIxAef3+wOppggEl9ZEpyf2pOJ56uHSOZGuREa35uTXtYYNkWF52ZVw2/0Q6sCKDPo22yd988WI6V7j4TQ==", "user"=>{"email"=>"peter@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 168ms (Views: 18.6ms | ActiveRecord: 0.0ms)


Started GET "/users/password/new" for 127.0.0.1 at 2019-07-04 20:30:13 -0400
Processing by Devise::PasswordsController#new as HTML
  Rendering devise/passwords/new.html.erb within layouts/application
DEPRECATION WARNING: [Devise] `DeviseHelper.devise_error_messages!`
is deprecated and it will be removed in the next major version.
To customize the errors styles please run `rails g devise:views` and modify the
`devise/shared/error_messages` partial.
 (called from block in _app_views_devise_passwords_new_html_erb__2520492752149990655_70145675902460 at /home/susana/Escritorio/G22/semana_9/ecommerce-base/app/views/devise/passwords/new.html.erb:4)
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/passwords/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 42ms (Views: 24.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2019-07-04 20:30:19 -0400
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
DEPRECATION WARNING: [Devise] `DeviseHelper.devise_error_messages!`
is deprecated and it will be removed in the next major version.
To customize the errors styles please run `rails g devise:views` and modify the
`devise/shared/error_messages` partial.
 (called from block in _app_views_devise_registrations_new_html_erb___3782837622517464024_70145590007540 at /home/susana/Escritorio/G22/semana_9/ecommerce-base/app/views/devise/registrations/new.html.erb:4)
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 39ms (Views: 38.0ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2019-07-04 20:30:33 -0400
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jk4y/bJysMg4KNGUw1Zmepo0P0TKiDExr3cnEkaJXVLy8OJXSizBGBluvA8u0//XrRhR/eQfCJ2LSKj1Ic3eXA==", "user"=>{"name"=>"Peter", "email"=>"peter@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "peter@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "name", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "peter@gmail.com"], ["encrypted_password", "$2a$11$PbusXbDQ.4G28BJkRoYosulqBsBKAf5SdE/iTcZf/nE8LGYNRidyK"], ["name", "Peter"], ["created_at", "2019-07-05 00:30:33.626173"], ["updated_at", "2019-07-05 00:30:33.626173"]]
  [1m[35m (9.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2019-07-05 00:30:33.639142"], ["last_sign_in_at", "2019-07-05 00:30:33.639142"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2019-07-05 00:30:33.640152"], ["id", 4]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 183ms (ActiveRecord: 18.1ms)


Started GET "/" for 127.0.0.1 at 2019-07-04 20:30:33 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 34ms (Views: 32.3ms | ActiveRecord: 1.2ms)


Started POST "/products/1/orders" for 127.0.0.1 at 2019-07-04 20:30:41 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"1L2tFxghcV0Y50P08yw0ROS84pVlPcaiStgD6lloTPurKPpG9eJs+LhRzMFH0lWLxbeoVkGzkQeOXe+0ZUGlGw==", "product_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 4 AND "orders"."product_id" = 1 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 38], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "product_id", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 4], ["product_id", 1], ["created_at", "2019-07-05 00:30:41.382868"], ["updated_at", "2019-07-05 00:30:41.382868"], ["price", 38]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "quantity" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", "2019-07-05 00:30:41.388111"], ["quantity", 1], ["id", 10]]
  [1m[35m (9.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 25ms (ActiveRecord: 15.1ms)


Started GET "/products" for 127.0.0.1 at 2019-07-04 20:30:41 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (7.1ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 1.2ms)


Started POST "/products/2/orders" for 127.0.0.1 at 2019-07-04 20:30:43 -0400
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ZfOZNlx56kBo6/Ati7YfMvEkhp24CG/tqpRW30ZVAwAaZs5nsbr35chdfxg/SH790C/MXpyGOEhuEbqBenzq4A==", "product_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."user_id" = 4 AND "orders"."product_id" = 2 AND "orders"."payed" = $1 AND "orders"."price" = $2 LIMIT $3[0m  [["payed", "f"], ["price", 67], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "product_id", "created_at", "updated_at", "price") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 4], ["product_id", 2], ["created_at", "2019-07-05 00:30:43.680303"], ["updated_at", "2019-07-05 00:30:43.680303"], ["price", 67]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = $1, "quantity" = $2 WHERE "orders"."id" = $3[0m  [["updated_at", "2019-07-05 00:30:43.691437"], ["quantity", 1], ["id", 11]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 31ms (ActiveRecord: 17.9ms)


Started GET "/products" for 127.0.0.1 at 2019-07-04 20:30:43 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 27ms (Views: 23.7ms | ActiveRecord: 1.4ms)


Started GET "/orders" for 127.0.0.1 at 2019-07-04 20:30:46 -0400
Processing by OrdersController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 4], ["payed", "f"]]
  Rendering orders/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 4], ["payed", "f"]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 4], ["payed", "f"]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered orders/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 34ms (Views: 24.8ms | ActiveRecord: 3.4ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-07-04 20:30:48 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 4], ["payed", "f"]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 4], ["payed", "f"]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
PayPal-Request-Id: c6874ba0-29a6-4df6-97e6-ea4b84701d54
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"105"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"10","name":"Fantastic Cotton Keyboard","quantity":"1","price":"38","currency":"USD"},{"sku":"11","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAHoSkGGraSKteY0EYN5fw4lNpvwZluApxr_NQ1Ltr6qk2Wkw-Qiz6XMlK6aMkqF8rH_9-tRXGM5MhrprSQlJxFAX_WVyQ", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.1  11 Sep 2018)", "PayPal-Request-Id"=>"c6874ba0-29a6-4df6-97e6-ea4b84701d54"}
Response[201]: Created, Duration: 1.786s
Response.body={"id":"PAYID-LUPJUOI3XU88813XH507332H","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"105.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Fantastic Cotton Keyboard","sku":"10","price":"38.00","currency":"USD","quantity":1},{"name":"Ergonomic Copper Bottle","sku":"11","price":"67.00","currency":"USD","quantity":1}]},"related_resources":[]}],"create_time":"2019-07-05T00:30:49Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJUOI3XU88813XH507332H","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-3YU53689JM1132924","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJUOI3XU88813XH507332H/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Fri, 05 Jul 2019 00:30:49 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["cc399fd4396cd", "cc399fd4396cd"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D966401629%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Fri, 05 Jul 2019 01:00:49 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["901"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-3YU53689JM1132924
Completed 302 Found in 1800ms (ActiveRecord: 2.5ms)


Started GET "/billings/pre_pay" for 127.0.0.1 at 2019-07-04 20:30:52 -0400
Processing by BillingsController#pre_pay as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT price * quantity FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 4], ["payed", "f"]]
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 4], ["payed", "f"]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
PayPal-Request-Id: c0ce1035-7700-4970-a0fe-47831ea51a21
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment
Request.body={"intent":"sale","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"currency":"USD","total":"105"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"sku":"10","name":"Fantastic Cotton Keyboard","quantity":"1","price":"38","currency":"USD"},{"sku":"11","name":"Ergonomic Copper Bottle","quantity":"1","price":"67","currency":"USD"}]}}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute","cancel_url":"http://localhost:3000/"}}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAHoSkGGraSKteY0EYN5fw4lNpvwZluApxr_NQ1Ltr6qk2Wkw-Qiz6XMlK6aMkqF8rH_9-tRXGM5MhrprSQlJxFAX_WVyQ", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.1  11 Sep 2018)", "PayPal-Request-Id"=>"c0ce1035-7700-4970-a0fe-47831ea51a21"}
Response[201]: Created, Duration: 1.625s
Response.body={"id":"PAYID-LUPJUPQ55Y11951A4765984C","intent":"sale","state":"created","payer":{"payment_method":"paypal"},"transactions":[{"amount":{"total":"105.00","currency":"USD"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Fantastic Cotton Keyboard","sku":"10","price":"38.00","currency":"USD","quantity":1},{"name":"Ergonomic Copper Bottle","sku":"11","price":"67.00","currency":"USD","quantity":1}]},"related_resources":[]}],"create_time":"2019-07-05T00:30:53Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJUPQ55Y11951A4765984C","rel":"self","method":"GET"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5YF148790R392700B","rel":"approval_url","method":"REDIRECT"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJUPQ55Y11951A4765984C/execute","rel":"execute","method":"POST"}]}	Response.header={"date"=>["Fri, 05 Jul 2019 00:30:53 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["67657d787ce1f", "67657d787ce1f"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D1033510493%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Fri, 05 Jul 2019 01:00:54 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["901"], "connection"=>["close"], "content-type"=>["application/json"]}
Redirected to https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5YF148790R392700B
Completed 302 Found in 1641ms (ActiveRecord: 2.9ms)


Started GET "/billings/execute?paymentId=PAYID-LUPJUPQ55Y11951A4765984C&token=EC-5YF148790R392700B&PayerID=GD3D99LDG53EY" for 127.0.0.1 at 2019-07-04 20:31:13 -0400
Processing by BillingsController#execute as HTML
  Parameters: {"paymentId"=>"PAYID-LUPJUPQ55Y11951A4765984C", "token"=>"EC-5YF148790R392700B", "PayerID"=>"GD3D99LDG53EY"}
Request[get]: https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJUPQ55Y11951A4765984C
Request.body=null	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAHoSkGGraSKteY0EYN5fw4lNpvwZluApxr_NQ1Ltr6qk2Wkw-Qiz6XMlK6aMkqF8rH_9-tRXGM5MhrprSQlJxFAX_WVyQ", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.1  11 Sep 2018)"}
Response[200]: OK, Duration: 1.066s
Response.body={"id":"PAYID-LUPJUPQ55Y11951A4765984C","intent":"sale","state":"created","cart":"5YF148790R392700B","payer":{"payment_method":"paypal","status":"UNVERIFIED","payer_info":{"email":"susi.alcala@gmail.com","first_name":"Susana","last_name":"Alcala","payer_id":"GD3D99LDG53EY","shipping_address":{"recipient_name":"Susana Alcala","line1":"1 Main St","city":"San Jose","state":"CA","postal_code":"95131","country_code":"US"},"country_code":"US"}},"transactions":[{"amount":{"total":"105.00","currency":"USD"},"payee":{"merchant_id":"GCSGSTMU2CBH4","email":"susi_alcala@hotmail.com"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Fantastic Cotton Keyboard","sku":"10","price":"38.00","currency":"USD","quantity":1},{"name":"Ergonomic Copper Bottle","sku":"11","price":"67.00","currency":"USD","quantity":1}],"shipping_address":{"recipient_name":"Susana Alcala","line1":"1 Main St","city":"San Jose","state":"CA","postal_code":"95131","country_code":"US"}},"related_resources":[]}],"redirect_urls":{"return_url":"http://localhost:3000/billings/execute?paymentId=PAYID-LUPJUPQ55Y11951A4765984C","cancel_url":"http://localhost:3000/"},"create_time":"2019-07-05T00:30:53Z","update_time":"2019-07-05T00:31:14Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJUPQ55Y11951A4765984C","rel":"self","method":"GET"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJUPQ55Y11951A4765984C/execute","rel":"execute","method":"POST"},{"href":"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5YF148790R392700B","rel":"approval_url","method":"REDIRECT"}]}	Response.header={"date"=>["Fri, 05 Jul 2019 00:31:14 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["3b52df93ad977", "3b52df93ad977"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D1385832029%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Fri, 05 Jul 2019 01:01:14 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["1643"], "connection"=>["close"], "content-type"=>["application/json"]}
PayPal-Request-Id: 7cd12324-3365-4062-9a92-a25a4b69cec3
Request[post]: https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJUPQ55Y11951A4765984C/execute
Request.body={"payer_id":"GD3D99LDG53EY"}	request.header={"X-PAYPAL-SANDBOX-EMAIL-ADDRESS"=>"Platform.sdk.seller@gmail.com", "Authorization"=>"Bearer A21AAHoSkGGraSKteY0EYN5fw4lNpvwZluApxr_NQ1Ltr6qk2Wkw-Qiz6XMlK6aMkqF8rH_9-tRXGM5MhrprSQlJxFAX_WVyQ", "Content-Type"=>"application/json", "User-Agent"=>"PayPalSDK/PayPal-Ruby-SDK 1.7.3 (paypal-sdk-core 1.7.3; ruby 2.6.2p47-x86_64-linux;OpenSSL 1.1.1  11 Sep 2018)", "PayPal-Request-Id"=>"7cd12324-3365-4062-9a92-a25a4b69cec3"}
Response[200]: OK, Duration: 2.015s
Response.body={"id":"PAYID-LUPJUPQ55Y11951A4765984C","intent":"sale","state":"approved","cart":"5YF148790R392700B","payer":{"payment_method":"paypal","status":"UNVERIFIED","payer_info":{"email":"susi.alcala@gmail.com","first_name":"Susana","last_name":"Alcala","payer_id":"GD3D99LDG53EY","shipping_address":{"recipient_name":"Susana Alcala","line1":"1 Main St","city":"San Jose","state":"CA","postal_code":"95131","country_code":"US"},"country_code":"US"}},"transactions":[{"amount":{"total":"105.00","currency":"USD","details":{}},"payee":{"merchant_id":"GCSGSTMU2CBH4","email":"susi_alcala@hotmail.com"},"description":"Compra desde E-commerce Rails.","item_list":{"items":[{"name":"Fantastic Cotton Keyboard","sku":"10","price":"38.00","currency":"USD","quantity":1},{"name":"Ergonomic Copper Bottle","sku":"11","price":"67.00","currency":"USD","quantity":1}],"shipping_address":{"recipient_name":"Susana Alcala","line1":"1 Main St","city":"San Jose","state":"CA","postal_code":"95131","country_code":"US"},"shipping_options":[null]},"related_resources":[{"sale":{"id":"9B389061FJ432101U","state":"completed","amount":{"total":"105.00","currency":"USD","details":{"subtotal":"105.00"}},"payment_mode":"INSTANT_TRANSFER","protection_eligibility":"ELIGIBLE","protection_eligibility_type":"ITEM_NOT_RECEIVED_ELIGIBLE,UNAUTHORIZED_PAYMENT_ELIGIBLE","transaction_fee":{"value":"3.35","currency":"USD"},"parent_payment":"PAYID-LUPJUPQ55Y11951A4765984C","create_time":"2019-07-05T00:31:16Z","update_time":"2019-07-05T00:31:16Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/sale/9B389061FJ432101U","rel":"self","method":"GET"},{"href":"https://api.sandbox.paypal.com/v1/payments/sale/9B389061FJ432101U/refund","rel":"refund","method":"POST"},{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJUPQ55Y11951A4765984C","rel":"parent_payment","method":"GET"}]}}]}],"create_time":"2019-07-05T00:31:16Z","links":[{"href":"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-LUPJUPQ55Y11951A4765984C","rel":"self","method":"GET"}]}	Response.header={"date"=>["Fri, 05 Jul 2019 00:31:15 GMT"], "server"=>["Apache"], "paypal-debug-id"=>["816dc465c3456", "816dc465c3456"], "content-language"=>["*"], "http_x_pp_az_locator"=>["sandbox.slc"], "set-cookie"=>["X-PP-SILOVER=name%3DSANDBOX3.API.1%26silo_version%3D1880%26app%3Dapiplatformproxyserv%26TIME%3D1402609245%26HTTP_X_PP_AZ_LOCATOR%3Dsandbox.slc; Expires=Fri, 05 Jul 2019 01:01:16 GMT; domain=.paypal.com; path=/; Secure; HttpOnly", "X-PP-SILOVER=; Expires=Thu, 01 Jan 1970 00:00:01 GMT"], "vary"=>["Authorization"], "content-length"=>["2043"], "connection"=>["close"], "content-type"=>["application/json"]}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "billings" ("code", "payment_method", "amount", "currency", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["code", "PAYID-LUPJUPQ55Y11951A4765984C"], ["payment_method", "paypal"], ["amount", "105.0"], ["currency", "USD"], ["user_id", 4], ["created_at", "2019-07-05 00:31:16.908735"], ["updated_at", "2019-07-05 00:31:16.908735"]]
  [1m[35m (10.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (9.6ms)[0m  [1m[33mUPDATE "orders" SET "payed" = 't', "billing_id" = 2 WHERE "orders"."user_id" = $1 AND "orders"."payed" = $2[0m  [["user_id", 4], ["payed", "f"]]
Redirected to http://localhost:3000/
Completed 302 Found in 3117ms (ActiveRecord: 21.8ms)


Started GET "/" for 127.0.0.1 at 2019-07-04 20:31:16 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 200 OK in 38ms (Views: 34.5ms | ActiveRecord: 1.3ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2019-07-04 20:31:52 -0400
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Hl2DtFXNUmBtcuF3zOMTpD9gWAduDIR1kKbXK+2XJvNhyNTluA5Pxc3EbkJ4HXJrHmsSxEqC09BUIzt10b7PEw=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2019-07-04 20:31:52 -0400
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 23ms (Views: 20.7ms | ActiveRecord: 0.6ms)


